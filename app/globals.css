@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Theme tokens */
  --bg: 250 250 250; /* zinc-50 */
  --fg: 17 24 39;    /* gray-900 */
  --muted: 107 114 128; /* gray-500 */
  --card: 255 255 255; /* white */
  --border: 229 231 235; /* gray-200 */
  --ring: 59 130 246;  /* blue-500 */
  --primary: 37 99 235; /* blue-600 */
  --primary-600: 37 99 235;
  --primary-500: 59 130 246;
  --primary-700: 29 78 216;
}

.dark {
  --bg: 9 9 11;        /* zinc-950 */
  --fg: 229 231 235;   /* gray-200 */
  --muted: 156 163 175; /* gray-400 */
  --card: 24 24 27;    /* zinc-900 */
  --border: 63 63 70;  /* zinc-700 */
  --ring: 59 130 246;
  --primary: 37 99 235;
  --primary-600: 37 99 235;
  --primary-500: 59 130 246;
  --primary-700: 29 78 216;
}

html, body, #__next {
  height: 100%;
}

body {
  color: rgb(var(--fg));
  background: rgb(var(--bg));
}

.container { @apply mx-auto max-w-4xl px-4; }

/* Base typography & focus */
@layer base {
  h1 { @apply text-2xl font-semibold tracking-tight; }
  h2 { @apply text-xl font-semibold tracking-tight; }
  h3 { @apply text-lg font-medium; }
  p  { @apply leading-relaxed; }
  :focus-visible { @apply outline-none ring-2 ring-offset-2 ring-[rgb(var(--ring))]; }
}

/* Components */
@layer components {
  .card {
    background: rgb(var(--card));
    @apply rounded-xl border border-[rgb(var(--border))] shadow-sm;
  }
  .card-body { @apply p-5; }

  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-colors border border-transparent disabled:opacity-50 disabled:cursor-not-allowed;
  }
  .btn-primary {
    background: rgb(var(--primary-600));
    color: white;
  }
  .btn-primary:hover { background: rgb(var(--primary-700)); }
  .btn-outline { @apply border border-[rgb(var(--border))]; background: rgb(var(--card)); }
  .btn-outline:hover { background: rgba(0,0,0,0.02); }
  .btn-ghost { @apply text-gray-700 hover:bg-zinc-100; }

  .input, .select, .textarea {
    background: rgb(var(--card));
    @apply w-full rounded-lg border border-[rgb(var(--border))] px-3 py-2 text-sm text-gray-900 placeholder:text-gray-400 shadow-sm focus:ring-2 focus:ring-[rgb(var(--ring))] focus:border-transparent;
  }
  .dark .input, .dark .select, .dark .textarea { @apply text-gray-100 placeholder:text-gray-500; }
  .textarea { @apply min-h-40; }

  .tabs {
    background: rgb(var(--card));
    @apply flex w-full overflow-x-auto gap-1 rounded-lg p-1 border border-[rgb(var(--border))] shadow-sm;
  }
  .tab {
    @apply px-3 py-2 text-sm rounded-md text-gray-600 hover:text-gray-900 hover:bg-zinc-50 transition-colors;
  }
  .tab-active {
    @apply bg-[rgb(var(--primary-600))] text-white hover:bg-[rgb(var(--primary-600))];
  }
  .badge { @apply inline-flex items-center rounded-full bg-zinc-100 px-2 py-0.5 text-xs text-gray-600; }
  .dark .badge { @apply bg-zinc-800 text-gray-300; }

  .alert { @apply rounded-lg border px-3 py-2 text-sm; background: rgb(254 242 242 / 0); }
  .alert-error { @apply border-red-300 text-red-700; background: #FEF2F2; }
  .dark .alert-error { @apply border-red-800 text-red-300; background: #2a0000; }

  .pulse-dot {
    width: 10px; height: 10px; border-radius: 9999px; background: #ef4444; position: relative; display: inline-block;
  }
  .pulse-dot::after {
    content: ""; position: absolute; inset: -6px; border-radius: 9999px; border: 2px solid #ef4444; opacity: .6;
    animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  @keyframes pulse {
    0% { transform: scale(0.8); opacity: .6; }
    70% { transform: scale(1.4); opacity: 0; }
    100% { opacity: 0; }
  }
}

/* Scrollbar (webkit) */
::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-thumb { background: #d4d4d8; border-radius: 999px; }
::-webkit-scrollbar-thumb:hover { background: #a1a1aa; }
